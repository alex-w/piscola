language: python

before_install:
  # Install the latest version of Miniconda
  - wget http://repo.continuum.io/miniconda/Miniconda-latest-Linux-x86_64.sh -O miniconda.sh
  - chmod +x miniconda.sh
  - ./miniconda.sh -b
  - export PATH=/home/travis/miniconda/bin:$PATH
  - conda update -q conda  # Update CONDA without command line prompt

install:
  #- pip install pytest
  #- pip install astropy
  #- pip install pybind11  # to avoid issues with george
  #- pip install -r requirements.txt

  - conda config --add channels conda-forge
  - conda create -n test_pisco python=$TRAVIS_PYTHON_VERSION numpy matplotlib pandas lmfit peakutils george emcee extinction sfdmap pytest
  - source activate test_pisco
  - python setup.py install
  #- conda install -c conda-forge numpy matplotlib pandas lmfit peakutils george emcee extinction sfdmap nose

script:
  - pytest
